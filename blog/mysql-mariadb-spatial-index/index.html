<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../../static/blog-style.css">
  <link rel="stylesheet" href="../../static/pygments.css">
  <title>MySQL / MariaDB ê³µê°„ ê²€ìƒ‰</title>
  
<meta property="fb:app_id" content="1923287127899740" />
<meta property="og:type" content="article" />
<meta property="og:title" content="MySQL / MariaDB ê³µê°„ ê²€ìƒ‰" />
<meta property="og:url" content="https://jangjunha.github.io/https://jangjunha.github.io/blog/mysql-mariadb-spatial-index/" />
<meta property="og:image" content="https://jangjunha.github.io/blog/mysql-mariadb-spatial-index/img_0381-70baf40c-dccc-450e-858d-0b97b8177d5b.jpg" />

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-101878699-1', 'auto');
  ga('send', 'pageview');

  </script>
</head>
<body>
  <div class="container-wrapper">
    <div class="container">
      
<div class="post">
  <div class="blog-post">
    
<!-- <div class="blog-post"> -->
    <h2 class="title">MySQL / MariaDB ê³µê°„ ê²€ìƒ‰</h2>
    <div class="meta">
      <div class="meta-item"><span class="h">posted on</span> 2019ë…„ 10ì›” 29ì¼</div>
      <div class="meta-item"><span class="h">tags</span>
        <div class="tags-list-wrapper">
        <ul class="tags-list">
        <li>
          <a href="../../blog/tags/mysql/" class="tag">mysql
          </a>
        </li>
        <li>
          <a href="../../blog/tags/mariadb/" class="tag">mariadb
          </a>
        </li>
        <li>
          <a href="../../blog/tags/database/" class="tag">database
          </a>
        </li>
        <li>
          <a href="../../blog/tags/index/" class="tag">index
          </a>
        </li>
        <li>
          <a href="../../blog/tags/rtree/" class="tag">rtree
          </a>
        </li>
        <li>
          <a href="../../blog/tags/mbr/" class="tag">mbr
          </a>
        </li>
        </ul>
        </div>
      </div>
    </div>
    
    <div class="content">
        <h1 id="mysql-/-mariadb">MySQL / MariaDB ê³µê°„ ê²€ìƒ‰</h1><p><a href="https://www.notion.so/MySQL-MariaDB-11eff6f9bbc34d4580c5abef84dc6276">https://www.notion.so/MySQL-MariaDB-11eff6f9bbc34d4580c5abef84dc6276</a>ì— ì‘ì„±í–ˆë˜ ê¸€ì„ ë¸”ë¡œê·¸ì— ë‹¤ì‹œ ì˜®ê²¨ì™”ìŠµë‹ˆë‹¤.</p>
<p>ğŸ“ <a href="https://github.com/Leop0ld/real-mysql-study">Real MySQL ìŠ¤í„°ë””</a>ë¥¼ ì§„í–‰í•˜ë©´ì„œ ì •ë¦¬í•œ ë…¸íŠ¸ì…ë‹ˆë‹¤.</p>
<p>âŒ¨ï¸ ì˜ˆì œë“¤ì€ MySQL 8.0ì„ ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.</p>
<h2 id="">ê³µê°„ ê²€ìƒ‰</h2><p><strong>R-Tree ì¸ë±ìŠ¤</strong>ë¥¼ ì‚¬ìš©. <strong>Spatial Index</strong> ë¼ê³ ë„ í•¨.</p>
<h3 id="b-tree">ê·¸ ì „ì— B-Tree ì‚´í´ë³´ê¸°</h3><ul>
<li><a href="https://ko.wikipedia.org/wiki/B_%ED%8A%B8%EB%A6%AC">https://ko.wikipedia.org/wiki/B_íŠ¸ë¦¬</a></li>
<li><a href="https://hyungjoon6876.github.io/jlog/2018/07/20/btree.html">https://hyungjoon6876.github.io/jlog/2018/07/20/btree.html</a></li>
</ul>
<h3 id="r-tree">R-Tree ìš”ì•½</h3><p><strong>MBR</strong>(Minimum Bounding Rectangle): ìš”ì†Œë“¤ì„ í¬í•¨í•˜ëŠ” ìµœì†Œ í¬ê¸°ì˜ ì‚¬ê°í˜•</p>
<p>ë„í˜•ë“¤ì„ ì—¬ëŸ¬ MBRë“¤ë¡œ ê·¸ë£¹í•‘í•˜ê³ , ë˜ ë‹¤ì‹œ ê·¸ MBRë“¤ì„ ë” í° ë‹¨ìœ„ì˜ MBRë¡œ ë¬¶ëŠ” ì‹ìœ¼ë¡œ íŠ¸ë¦¬ë¥¼ êµ¬ì„±</p>
<p><a href="https://12bme.tistory.com/143">https://12bme.tistory.com/143</a></p>
<h3 id="r-tree">R-Tree ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì´ìœ </h3><ul>
<li>ì¢Œí‘œ ë°ì´í„°ë¥¼ Xì¢Œí‘œ, Yì¢Œí‘œ 2ê°œ ì»¬ëŸ¼ìœ¼ë¡œ ë§Œë“¤ì–´ì„œ B-Tree composite ì¸ë±ìŠ¤ë¥¼ ê±¸ë©´ Left-most íŠ¹ì„±ë•œì— íŠ¹ì • ì˜ì—­ ë²”ìœ„ ê²€ìƒ‰ ì‹œ í•œ ìª½ë°–ì— ì¸ë±ìŠ¤ë¥¼ ëª» íƒ.<ul>
<li>â†’ ë°ì´í„°ì˜ ë¶„í¬ì— ë”°ë¼ì„œ ê±°ì˜ í’€ìŠ¤ìº” í•˜ë‹¤ì‹œí”¼ í•˜ëŠ” ê²½ìš°ê°€ ìƒê¸¸ ìˆ˜ ìˆìŒ</li>
</ul>
</li>
<li>ì„±ëŠ¥<ul>
<li>ìœ„ì¹˜ ì •ë³´ ê²€ìƒ‰ ì‹œ R-Tree ì¸ë±ìŠ¤ê°€ B-Treeì™€ ë¹„êµí•´ì„œ ì „ë°˜ì ìœ¼ë¡œ ê²€ìƒ‰ì´ ë¹ ë¦„.</li>
<li>ë‹¨, ê²€ìƒ‰í•˜ëŠ” ì˜ì—­ì´ ë„ˆë¬´ ë„“ìœ¼ë©´ ëŠë¦¼</li>
</ul>
</li>
</ul>
<h2 id="r-tree">R-Treeë¥¼ ì´ìš©í•œ ìœ„ì¹˜ ê²€ìƒ‰</h2><h3 id="">ì¸ë±ìŠ¤ ìƒì„±</h3><ul>
<li><code>POINT</code> / <code>GEOMETRY</code> íƒ€ì… ë“± ì‚¬ìš©í•˜ì—¬ ìœ„ì¹˜ ì •ë³´ ì €ì¥</li>
<li>MySQL 5.7, MariaDB 10.2.2 ë¯¸ë§Œì—ì„œëŠ” R-Tree ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ MyISAM ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ í…Œì´ë¸” ìƒì„±<ul>
<li><a href="https://dev.mysql.com/doc/refman/5.7/en/mysql-nutshell.html#mysql-nutshell-additions">MySQL 5.7</a>, <a href="https://mariadb.com/kb/en/library/spatial-index/">MariaDB 10.2.2</a> ë¶€í„°ëŠ” InnoDB / Aria ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œë„ ì“¸ ìˆ˜ ìˆìŒ</li>
</ul>
</li>
<li><p>ì¸ë±ìŠ¤ ìƒì„± ì‹œ <code>SPATIAL KEY</code> í‚¤ì›Œë“œ ì‚¬ìš©</p>
<div class="highlight"><pre><span></span><span class="c1">-- MySQL 8.0</span>

<span class="o">&gt;</span> <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">zloc</span> <span class="p">(</span>
    <span class="n">id</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="n">loc</span> <span class="n">POINT</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">SRID</span> <span class="mi">0</span><span class="p">,</span>  <span class="c1">-- MySQL 8.0 ë¶€í„°ëŠ” SRIDë¥¼ ëª…ì‹œí•˜ì§€ ì•Šìœ¼ë©´ ì¸ë±ìŠ¤ë¥¼ ì•ˆ íƒ</span>
    <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">id</span><span class="p">),</span>
    <span class="n">SPATIAL</span> <span class="k">KEY</span> <span class="n">sx_loc</span> <span class="p">(</span><span class="n">loc</span><span class="p">)</span>
  <span class="p">)</span> <span class="k">DEFAULT</span> <span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8</span><span class="p">;</span>

<span class="o">&gt;</span> <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">zloc</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">loc</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">point</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">));</span>
<span class="o">&gt;</span> <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">zloc</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">loc</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">point</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
<span class="o">&gt;</span> <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">zloc</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">loc</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">point</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">));</span>
</pre></div>
</li>
</ul>
<h3 id="">ì¡°íšŒ</h3><p>MySQL í´ë¼ì´ì–¸íŠ¸ê°€ <code>POINT</code> íƒ€ì…ì„ ì•Œì•„ì„œ í‘œí˜„í•´ì£¼ì§€ ì•ŠìŒ</p>
<ul>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/gis-point-property-functions.html#function_st-x"><code>ST_X()</code></a>, <a href="https://dev.mysql.com/doc/refman/8.0/en/gis-point-property-functions.html#function_st-y"><code>ST_Y()</code></a> í•¨ìˆ˜ë¡œ ì ì˜ X, Yì¢Œí‘œë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ (MySQL 5.6 ë¯¸ë§Œì—ì„œëŠ” <code>X()</code>, <code>Y()</code>)</li>
<li><p><a href="https://dev.mysql.com/doc/refman/8.0/en/gis-format-conversion-functions.html#function_st-astext"><code>ST_AsText()</code></a>ë¡œ ë¬¸ìì—´ë¡œ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆìŒ (MySQL 5.6 ë¯¸ë§Œì—ì„œëŠ” <code>AsText()</code>)</p>
<div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">ST_X</span><span class="p">(</span><span class="n">loc</span><span class="p">),</span> <span class="n">ST_Y</span><span class="p">(</span><span class="n">loc</span><span class="p">),</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">loc</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">zloc</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+-----------+-----------+----------------+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">ST_X</span><span class="p">(</span><span class="n">loc</span><span class="p">)</span> <span class="o">|</span> <span class="n">ST_Y</span><span class="p">(</span><span class="n">loc</span><span class="p">)</span> <span class="o">|</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">loc</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-----------+-----------+----------------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span>         <span class="mi">2</span> <span class="o">|</span>         <span class="mi">3</span> <span class="o">|</span> <span class="n">POINT</span><span class="p">(</span><span class="mi">2</span> <span class="mi">3</span><span class="p">)</span>     <span class="o">|</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span>         <span class="mi">4</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="n">POINT</span><span class="p">(</span><span class="mi">4</span> <span class="mi">1</span><span class="p">)</span>     <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span>         <span class="mi">3</span> <span class="o">|</span>         <span class="mi">2</span> <span class="o">|</span> <span class="n">POINT</span><span class="p">(</span><span class="mi">3</span> <span class="mi">2</span><span class="p">)</span>     <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-----------+-----------+----------------+</span>
<span class="mi">3</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
</li>
</ul>
<h3 id="">ì¿¼ë¦¬</h3><ul>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/spatial-relation-functions-mbr.html#function_mbrcontains"><code>MBRContains()</code></a> í•¨ìˆ˜ ì‚¬ìš©<ul>
<li><a href="https://dev.mysql.com/doc/refman/5.7/en/spatial-relation-functions-mbr.html#function_contains">"MBRContains() and Contains() are synonyms." (Contains is deprecated in 5.7.6)</a></li>
<li>ë‘ ë²ˆì§¸ ì¸ìë¡œ ì£¼ì–´ì§„ ê³µê°„ ì •ë³´ì˜ <strong>MBR</strong>ì´ ì²« ë²ˆì§¸ ì¸ìë¡œ ì£¼ì–´ì§„ ê³µê°„ ì •ë³´ì˜ <strong>MBR</strong>ì— í¬í•¨ë˜ëŠ”ê°€</li>
<li>^ ì´ê²ƒë§Œì´ R-Tree ì¸ë±ìŠ¤ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìœ ì¼í•œ ë°©ë²•! (ì¸ ì¤„ ì•Œì•˜ìœ¼ë‚˜...)</li>
</ul>
</li>
<li>MySQL 5.6ì— <a href="https://dev.mysql.com/doc/refman/5.6/en/spatial-relation-functions-object-shapes.html"><code>ST_Contains()</code></a> í•¨ìˆ˜ê°€ ìƒê¹€<ul>
<li>ë‘ ë²ˆì§¸ ì¸ìì˜ ê³µê°„ ì •ë³´ê°€ ì²« ë²ˆì§¸ ì¸ìì˜ ê³µê°„ ì •ë³´ì— í¬í•¨ë˜ëŠ”ê°€ (MBRì´ ì•„ë‹˜!)</li>
<li>ì •í™•íˆ ì–´ë–¤ ì›ë¦¬ë¡œ ì¸ë±ìŠ¤ë¥¼ íƒ€ëŠ” ê±´ì§€ëŠ” ì°¾ì§€ ëª»í–ˆìŒ</li>
</ul>
</li>
</ul>
<p><img src="../../blog/mysql-mariadb-spatial-index/IMG_0381-70baf40c-dccc-450e-858d-0b97b8177d5b.jpg" alt="zloc í…Œì´ë¸”ì˜ ì ë“¤ê³¼ ì¿¼ë¦¬ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë„í˜•ì„ ë‚˜íƒ€ë‚¸ ê·¸ë¦¼"></p>
<figcaption style="margin-top: 16px">`zloc` í…Œì´ë¸”ì˜ ì ë“¤ê³¼ ì¿¼ë¦¬ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë„í˜•ì„ ë‚˜íƒ€ë‚¸ ê·¸ë¦¼</figcaption><h3 id="st_contains">ST_Contains()</h3><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">loc</span><span class="p">)</span>
  <span class="k">FROM</span> <span class="n">zloc</span>
  <span class="k">WHERE</span> <span class="n">ST_Contains</span><span class="p">(</span>
    <span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">&#39;POLYGON((1 1,</span>
<span class="s1">                              4 1,</span>
<span class="s1">                              4 4,</span>
<span class="s1">                               1 1))&#39;</span><span class="p">),</span>
    <span class="n">loc</span>
  <span class="p">);</span>
<span class="o">+</span><span class="c1">----+----------------+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">loc</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+----------------+</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="n">POINT</span><span class="p">(</span><span class="mi">3</span> <span class="mi">2</span><span class="p">)</span>     <span class="o">|</span>
<span class="o">+</span><span class="c1">----+----------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="c1">-- explain</span>
<span class="o">+</span><span class="c1">----+-------------+-------+------------+-------+---------------+--------+---------+------+------+----------+-------------+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">select_type</span> <span class="o">|</span> <span class="k">table</span> <span class="o">|</span> <span class="n">partitions</span> <span class="o">|</span> <span class="k">type</span>  <span class="o">|</span> <span class="n">possible_keys</span> <span class="o">|</span> <span class="k">key</span>    <span class="o">|</span> <span class="n">key_len</span> <span class="o">|</span> <span class="k">ref</span>  <span class="o">|</span> <span class="k">rows</span> <span class="o">|</span> <span class="n">filtered</span> <span class="o">|</span> <span class="n">Extra</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-------------+-------+------------+-------+---------------+--------+---------+------+------+----------+-------------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="k">SIMPLE</span>      <span class="o">|</span> <span class="n">zloc</span>  <span class="o">|</span> <span class="k">NULL</span>       <span class="o">|</span> <span class="n">range</span> <span class="o">|</span> <span class="n">sx_loc</span>        <span class="o">|</span> <span class="n">sx_loc</span> <span class="o">|</span> <span class="mi">34</span>      <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>   <span class="mi">100</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span> <span class="k">Using</span> <span class="k">where</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-------------+-------+------------+-------+---------------+--------+---------+------+------+----------+-------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
<h3 id="mbrcontains">MBRContains()</h3><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">loc</span><span class="p">)</span>
  <span class="k">FROM</span> <span class="n">zloc</span>
  <span class="k">WHERE</span> <span class="n">MBRContains</span><span class="p">(</span>
    <span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">&#39;POLYGON((1 1,</span>
<span class="s1">                              4 1,</span>
<span class="s1">                              4 4,</span>
<span class="s1">                              1 1))&#39;</span><span class="p">),</span>
    <span class="n">loc</span>
  <span class="p">);</span>
<span class="o">+</span><span class="c1">----+----------------+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">loc</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+----------------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="n">POINT</span><span class="p">(</span><span class="mi">2</span> <span class="mi">3</span><span class="p">)</span>     <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="n">POINT</span><span class="p">(</span><span class="mi">3</span> <span class="mi">2</span><span class="p">)</span>     <span class="o">|</span>
<span class="o">+</span><span class="c1">----+----------------+</span>
<span class="mi">2</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="c1">-- explain</span>
<span class="o">+</span><span class="c1">----+-------------+-------+------------+-------+---------------+--------+---------+------+------+----------+-------------+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">select_type</span> <span class="o">|</span> <span class="k">table</span> <span class="o">|</span> <span class="n">partitions</span> <span class="o">|</span> <span class="k">type</span>  <span class="o">|</span> <span class="n">possible_keys</span> <span class="o">|</span> <span class="k">key</span>    <span class="o">|</span> <span class="n">key_len</span> <span class="o">|</span> <span class="k">ref</span>  <span class="o">|</span> <span class="k">rows</span> <span class="o">|</span> <span class="n">filtered</span> <span class="o">|</span> <span class="n">Extra</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-------------+-------+------------+-------+---------------+--------+---------+------+------+----------+-------------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="k">SIMPLE</span>      <span class="o">|</span> <span class="n">zloc</span>  <span class="o">|</span> <span class="k">NULL</span>       <span class="o">|</span> <span class="n">range</span> <span class="o">|</span> <span class="n">sx_loc</span>        <span class="o">|</span> <span class="n">sx_loc</span> <span class="o">|</span> <span class="mi">34</span>      <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span>    <span class="mi">3</span> <span class="o">|</span>   <span class="mi">100</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span> <span class="k">Using</span> <span class="k">where</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-------------+-------+------------+-------+---------------+--------+---------+------+------+----------+-------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</pre></div>
<h3 id="srid-spatial-reference-system-identifier">SRID (Spatial Reference System Identifier)</h3><ul>
<li><strong>í‰ë©´ ì¢Œí‘œ(Cartesian)</strong> ğŸ‘‰ SRID <code>0</code></li>
<li><p><strong>ë‘¥ê·¼ ì§€êµ¬ (ìœ„ê²½ë„) ì¢Œí‘œ(geographic)</strong> ğŸ‘‰ SRID <code>4326</code></p>
</li>
<li><p><a href="https://dev.mysql.com/doc/refman/8.0/en/spatial-type-overview.html">https://dev.mysql.com/doc/refman/8.0/en/spatial-type-overview.html</a></p>
</li>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/spatial-index-optimization.html">https://dev.mysql.com/doc/refman/8.0/en/spatial-index-optimization.html</a></li>
<li><a href="https://postgis.net/workshops/postgis-intro/projection.html">https://postgis.net/workshops/postgis-intro/projection.html</a></li>
<li><a href="https://en.wikipedia.org/wiki/Spatial_reference_system">https://en.wikipedia.org/wiki/Spatial_reference_system</a></li>
</ul>

    </div>
    


  </div>

    
    <div class="social-buttons">
      <div class="fb-share-button" data-href="https://jangjunha.github.io/../../blog/mysql-mariadb-spatial-index/" data-layout="button" data-size="small" data-mobile-iframe="true"></div>
    </div>
    <div class="fb-comments" data-href="https://jangjunha.github.io/../../blog/mysql-mariadb-spatial-index/" data-numposts="5" data-width="100%"></div>
</div>

    </div>
  </div>

  <footer>
    <p class="copyright">&copy; <span style="font-weight: 600">jangjunha</span></p>
    <nav>
      <ul>
      
        <li class="active">
          <a href="../../">home</a>
        </li>
      
        <li class="active">
          <a href="../../blog/">blog</a>
        </li>
      
        <li>
          <a href="../../resume/">resume</a>
        </li>
      
        <li>
          <a href="../../projects/">projects</a>
        </li>
      
      </ul>
    </nav>
  </footer>
</body>


<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/ko_KR/sdk.js#xfbml=1&version=v2.8";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>


</html>
