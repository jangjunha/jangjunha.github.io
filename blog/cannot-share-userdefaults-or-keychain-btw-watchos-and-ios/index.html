<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../../static/blog-style.css">
  <link rel="stylesheet" href="../../static/pygments.css">
  <title>Watch Extension과 iOS간 UserDefaults 또는 키체인을 공유할 수 없다</title>
  
<meta property="fb:app_id" content="1923287127899740" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Watch Extension과 iOS간 UserDefaults 또는 키체인을 공유할 수 없다" />
<meta property="og:url" content="https://jangjunha.github.io/https://jangjunha.github.io/blog/cannot-share-userdefaults-or-keychain-btw-watchos-and-ios/" />


  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-101878699-1', 'auto');
  ga('send', 'pageview');

  </script>
</head>
<body>
  <div class="container-wrapper">
    <div class="container">
      
<div class="post">
  <div class="blog-post">
    
<!-- <div class="blog-post"> -->
    <h2 class="title">Watch Extension과 iOS간 UserDefaults 또는 키체인을 공유할 수 없다</h2>
    <div class="meta">
      <div class="meta-item"><span class="h">posted on</span> 2021년 9월 2일</div>
      <div class="meta-item"><span class="h">tags</span>
        <div class="tags-list-wrapper">
        <ul class="tags-list">
        <li>
          <a href="../tags/ios/" class="tag">ios
          </a>
        </li>
        <li>
          <a href="../tags/watchos/" class="tag">watchos
          </a>
        </li>
        <li>
          <a href="../tags/userdefaults/" class="tag">userdefaults
          </a>
        </li>
        <li>
          <a href="../tags/keychain/" class="tag">keychain
          </a>
        </li>
        </ul>
        </div>
      </div>
    </div>
    
    <div class="content">
        <p>iOS 타겟과 Watch Extension간 UserDefaults 또는 키체인을 공유할 수 없다.</p>
<p>iOS 앱과 Widget Extension 등과는 App Group 설정 혹은 Keychain Sharing을 통해 UserDefaults 혹은 키체인을 공유해서 사용할 수 있다. 그 기억을 바탕으로 Watch Extension과도 자연스레 공유가 될 것이라고 생각했지만 그렇지 않다. (인터넷에서 이것저것 검색해보니 아마 watchOS 2까지는 됐던 것 같다.) Apple Developer의 <a href="UserDefaults-Sandbox">〈UserDefaults〉 문서</a>에도 쓰여 있다.</p>
<blockquote><p>A sandboxed app cannot access or modify the preferences for any other app, with the following exceptions:</p>
<ul>
<li>App extensions on macOS and iOS</li>
<li>Other apps in your application group on macOS</li>
</ul>
</blockquote>
<p>(watchOS에서 동작하는) Watch Extension은 예외에 포함되지 않는다.</p>
<p>[〈Keeping Your watchOS Content Up to Date〉]를 살펴보니 토큰이나 설정값을 공유하려는 내 사용 사례에서는 대신 <a href="https://developer.apple.com/documentation/watchconnectivity">Watch Connectivity</a>를 사용하는 것이 적합했다. 그 외에는 인터넷에 저장된 데이터에 <code>URLSession</code>을 통해 직접 접근하는 방법이나 CloudKit을 이용하는 방법이 있다.</p>

    </div>
    


  </div>

    
    <div class="social-buttons">
      <div class="fb-share-button" data-href="https://jangjunha.github.io/./" data-layout="button" data-size="small" data-mobile-iframe="true"></div>
    </div>
    <div class="fb-comments" data-href="https://jangjunha.github.io/./" data-numposts="5" data-width="100%"></div>
</div>

    </div>
  </div>

  <footer>
    <p class="copyright">&copy; <span style="font-weight: 600">jangjunha</span></p>
    <nav>
      <ul>
      
        <li class="active">
          <a href="../../">home</a>
        </li>
      
        <li class="active">
          <a href="../">blog</a>
        </li>
      
        <li>
          <a href="../../resume/">resume</a>
        </li>
      
        <li>
          <a href="../../projects/">projects</a>
        </li>
      
      </ul>
    </nav>
  </footer>
</body>


<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/ko_KR/sdk.js#xfbml=1&version=v2.8";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>


</html>
